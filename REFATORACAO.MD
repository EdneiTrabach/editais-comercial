# üß© Prompt para Refatora√ß√£o Modular, Padronizada e Escal√°vel em Vue.js

## üéØ Objetivo

Executar uma refatora√ß√£o completa e estrat√©gica em projetos Vue.js, priorizando:

- ‚úÖ Modularidade e reutiliza√ß√£o
- ‚úÖ Estrutura de pastas padronizada
- ‚úÖ Clareza e manutenibilidade do c√≥digo
- ‚úÖ Responsividade e suporte a temas (claro/escuro)
- ‚úÖ Separa√ß√£o de responsabilidades (UI, l√≥gica, estilo)

---

## üìç Etapas da Refatora√ß√£o

### **1. Diagn√≥stico Inicial**

**Analise o componente atual e identifique:**

- üîπ *Componentes candidatos √† separa√ß√£o*:

  - Bot√µes de a√ß√£o
  - Tabelas customizadas
  - Modais e formul√°rios reutiliz√°veis
  - Elementos de UI repetidos

- üîπ *Fun√ß√µes duplicadas ou gen√©ricas*:

  - Formatadores (datas, moedas, CPF/CNPJ)
  - Validadores reutiliz√°veis
  - Fun√ß√µes de fetch

- üîπ *Estilos misturados e mal organizados*:

  - CSS inline ou acoplado ao `.vue`
  - Falta de vari√°veis tem√°ticas

- üîπ *Arquivos com m√∫ltiplas responsabilidades*:

  - Componentes misturando l√≥gica e visual
  - Servi√ßos com fun√ß√µes n√£o relacionadas

---

### **2. Estrutura Modular por Funcionalidade**

Organize cada m√≥dulo da seguinte forma:

```bash
views/
‚îî‚îÄ‚îÄ NomeModulo/
    ‚îú‚îÄ‚îÄ NomeModuloView.vue        # Componente principal
    ‚îú‚îÄ‚îÄ css/
    ‚îÇ   ‚îî‚îÄ‚îÄ nome-modulo.css       # Estilos isolados e tem√°ticos
    ‚îú‚îÄ‚îÄ functions/
    ‚îÇ   ‚îú‚îÄ‚îÄ formatadores.js
    ‚îÇ   ‚îî‚îÄ‚îÄ validadores.js
    ‚îú‚îÄ‚îÄ composables/
    ‚îÇ   ‚îî‚îÄ‚îÄ useNomeModuloStore.js
    ‚îú‚îÄ‚îÄ components/
    ‚îÇ   ‚îú‚îÄ‚îÄ ItemTable.vue
    ‚îÇ   ‚îú‚îÄ‚îÄ ItemForm.vue
    ‚îÇ   ‚îú‚îÄ‚îÄ ItemDeleteDialog.vue
    ‚îÇ   ‚îî‚îÄ‚îÄ CustomCell.vue
    ‚îî‚îÄ‚îÄ index.js                  # Exporta√ß√µes do m√≥dulo
```

---

### **3. L√≥gica em Composables e Fun√ß√µes Puras**

```js
// composables/useNomeModuloStore.js
import { ref } from 'vue'

export function useNomeModuloStore() {
  const items = ref([])
  const isLoading = ref(false)
  const error = ref(null)

  const fetchItems = async () => {
    isLoading.value = true
    try {
      items.value = await apiCall()
    } catch (err) {
      error.value = err.message
    } finally {
      isLoading.value = false
    }
  }

  return { items, isLoading, error, fetchItems }
}
```

---

### **4. CSS Modular com Suporte a Temas e Responsividade**

```css
/* nome-modulo.css */
.container {
  background-color: var(--bg-content, #fff);
  color: var(--text-primary, #333);
}

[data-theme="dark"] .container {
  background-color: var(--bg-content-dark);
}

@media (max-width: 768px) {
  .form-grid {
    grid-template-columns: 1fr;
  }
}
```

---

### **5. Componentes Pequenos, Isolados e Reutiliz√°veis**

```vue
<!-- CustomCell.vue -->
<template>
  <div class="custom-cell">
    <div class="indicator" :style="indicatorStyle"></div>
    <span>{{ formattedValue }}</span>
  </div>
</template>

<script>
export default {
  props: { value: [String, Number] },
  computed: {
    indicatorStyle() { /* ... */ },
    formattedValue() { /* ... */ }
  }
}
</script>
```

---

### **6. Componente Principal: Apenas Estrutura e Integra√ß√£o**

```vue
<!-- NomeModuloView.vue -->
<template>
  <div class="layout">
    <h1>T√≠tulo do M√≥dulo</h1>
    <ItemTable :items="items" @edit="editarItem" @delete="confirmarExclusao" />
    <ItemForm v-if="showModal" :formData="formData" @submit="salvarItem" />
    <ItemDeleteDialog v-if="showDeleteDialog" :item="itemToDelete" @confirm="excluirItem" />
  </div>
</template>

<script>
import { useNomeModuloStore } from './composables/useNomeModuloStore'

export default {
  setup() {
    const { items, fetchItems } = useNomeModuloStore()
    return { items, fetchItems }
  }
}
</script>

<style src="./css/nome-modulo.css"></style>
```

---

## ‚úÖ Lista de Verifica√ß√£o Final

-

---

## üí° Melhores Pr√°ticas

### ‚ú® **Nomenclatura**

- Componentes: `PascalCase`
- Composables: `camelCase`
- Estilos: `kebab-case`

### ‚ôªÔ∏è **Reutiliza√ß√£o e Consist√™ncia**

- Props bem definidas + valida√ß√£o
- Eventos claros e documentados (`@submit`, `@change`, etc.)
- Estilos integrados ao sistema do projeto

### üåó **Temas e Acessibilidade**

- Vari√°veis CSS para cores/tamanhos
- Suporte total a tema escuro
- Contraste e UX acess√≠vel

### üì± **Responsividade Moderna**

- Mobile-first
- Breakpoints claros
- Grid e Flex Layouts

### ‚öôÔ∏è **Performance**

- Lazy loading de componentes grandes
- Pagina√ß√£o em grandes listas
- Computeds memoizados

